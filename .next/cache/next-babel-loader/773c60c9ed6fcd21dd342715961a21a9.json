{"ast":null,"code":"import fetch from 'isomorphic-unfetch';\nimport { GET_POSTS } from '../../types';\nexport const getPosts = () => (dispatch, getState) => {\n  const state = getState();\n\n  if (state.posts.data) {\n    return;\n  }\n\n  const callApi = async () => {\n    try {\n      let res = await fetch('https://api.github.com/repos/zeit/next.js');\n      res = await res.json();\n      dispatch({\n        type: `${GET_POSTS}_success`,\n        payload: res\n      });\n    } catch (err) {\n      dispatch({\n        type: `${GET_POSTS}_failed`,\n        payload: err\n      });\n    }\n  };\n\n  dispatch({\n    type: `${GET_POSTS}_started`\n  });\n  return Promise.resolve(callApi());\n};","map":null,"metadata":{},"sourceType":"module"}