{"ast":null,"code":"import fetch from 'isomorphic-unfetch';\nimport { GET_COMMENTS } from '../../types';\nexport const getComments = () => (dispatch, getState) => {\n  const state = getState();\n\n  if (state.comments.data) {\n    return;\n  }\n\n  const callApi = async () => {\n    try {\n      let res = await fetch('https://api.github.com/repos/zeit/next.js');\n      res = await res.json();\n      dispatch({\n        type: `${GET_COMMENTS}_success`,\n        payload: res\n      });\n    } catch (err) {\n      dispatch({\n        type: `${GET_COMMENTS}_failed`,\n        payload: err\n      });\n    }\n  };\n\n  dispatch({\n    type: `${GET_COMMENTS}_started`\n  });\n  return Promise.resolve(callApi());\n};","map":{"version":3,"sources":["/Users/abhijit/Documents/Projects/React/ssr_next_js/redux/actions/comments/index.js"],"names":["fetch","GET_COMMENTS","getComments","dispatch","getState","state","comments","data","callApi","res","json","type","payload","err","Promise","resolve"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,oBAAlB;AAEA,SAASC,YAAT,QAA6B,aAA7B;AAGA,OAAO,MAAMC,WAAW,GAAG,MAAM,CAACC,QAAD,EAAWC,QAAX,KAAsB;AACrD,QAAMC,KAAK,GAAGD,QAAQ,EAAtB;;AACA,MAAGC,KAAK,CAACC,QAAN,CAAeC,IAAlB,EAAuB;AACrB;AACD;;AACD,QAAMC,OAAO,GAAG,YAAW;AACzB,QAAG;AACD,UAAIC,GAAG,GAAG,MAAMT,KAAK,CAAC,2CAAD,CAArB;AACAS,MAAAA,GAAG,GAAG,MAAMA,GAAG,CAACC,IAAJ,EAAZ;AACAP,MAAAA,QAAQ,CAAC;AAACQ,QAAAA,IAAI,EAAE,GAAEV,YAAa,UAAtB;AAAiCW,QAAAA,OAAO,EAAEH;AAA1C,OAAD,CAAR;AACD,KAJD,CAIC,OAAMI,GAAN,EAAU;AACTV,MAAAA,QAAQ,CAAC;AAACQ,QAAAA,IAAI,EAAE,GAAEV,YAAa,SAAtB;AAAgCW,QAAAA,OAAO,EAAEC;AAAzC,OAAD,CAAR;AACD;AACF,GARD;;AAUAV,EAAAA,QAAQ,CAAC;AAACQ,IAAAA,IAAI,EAAE,GAAEV,YAAa;AAAtB,GAAD,CAAR;AACA,SAAOa,OAAO,CAACC,OAAR,CAAgBP,OAAO,EAAvB,CAAP;AAED,CAlBM","sourcesContent":["import fetch from 'isomorphic-unfetch';\n\nimport { GET_COMMENTS } from '../../types';\n\n\nexport const getComments = () => (dispatch, getState)=>{\n  const state = getState();\n  if(state.comments.data){\n    return;\n  }\n  const callApi = async () =>{\n    try{\n      let res = await fetch('https://api.github.com/repos/zeit/next.js');\n      res = await res.json();\n      dispatch({type:`${GET_COMMENTS}_success`, payload: res});\n    }catch(err){\n      dispatch({type:`${GET_COMMENTS}_failed`, payload: err});\n    }\n  }\n\n  dispatch({type:`${GET_COMMENTS}_started`});\n  return Promise.resolve(callApi());\n\n}\n"]},"metadata":{},"sourceType":"module"}